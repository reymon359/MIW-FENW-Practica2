<div class="text-center form-container py-5">
  <form [formGroup]="loginForm" (ngSubmit)="submitLoginForm()"
        id="loginForm" class=" form-signin p-3 m-auto w-100">
    <div *ngIf="!logging && !loginCompleted">
      <img class="mb-4" src="./assets/images/logo.png" alt="" width="72" height="72">
      <h1 class="h3 mb-3 font-weight-normal">Inicia sesión</h1>

      <label for="userId" class="sr-only">ID Usuario</label>
      <input type="text" id="userId" class="form-control my-2 p-2 h-auto"
             placeholder="ID Usuario" autofocus="" formControlName="userId"
             [ngClass]="{'is-valid': loginForm.get('userId').valid ,  'is-invalid':
          !loginForm.get('userId').valid  && (loginForm.get('userId').dirty
          || loginForm.get('userId').touched)}">
      <div *ngIf="loginForm.get('userId').errors?.required  &&
          (loginForm.get('userId').dirty || loginForm.get('userId').touched)"
           class="text-danger"> El ID de Usuario es requerido.
      </div>
      <div *ngIf="loginForm.get('userId').errors?.minlength &&
          (loginForm.get('userId').dirty || loginForm.get('userId').touched)"
           class="text-danger"> Mínimo 3 caracteres.
      </div>


      <label for="password" class="sr-only">Contraseña</label>
      <input type="password" id="password" class="form-control my-2 p-2 h-auto"
             placeholder="Contraseña" formControlName="password"
             [ngClass]="{'is-valid': loginForm.get('password').valid , 'is-invalid':
          !loginForm.get('password').valid  && (loginForm.get('password').dirty
          || loginForm.get('password').touched)}">
      <div *ngIf="loginForm.get('password').errors?.required  &&
          (loginForm.get('password').dirty || loginForm.get('password').touched)"
           class="text-danger"> La contraseña es requerida.
      </div>
      <div *ngIf="loginForm.get('password').errors?.minlength  &&
          (loginForm.get('password').dirty || loginForm.get('password').touched)"
           class="text-danger"> Mínimo 6 caracteres.
      </div>


      <button [disabled]="!loginForm.valid" class="btn btn-primary btn-block my-3" type="submit">Login
      </button>
    </div>
    <div *ngIf="logging" class="text-center">
      <div class="spinner-grow text-primary m-5" role="status">
        <span class="sr-only">Loading...</span>
      </div>
      <p>Enviando...</p>
    </div>

    <div id="alertRegisterCorrect" class="alert alert-success alert-dismissible fade show alertHidden"
         role="alert"> ¡Bienvenido! ✔ Ya puedes <b><a [routerLink]="['/booking']">reservar</a></b> una pista.
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div id="alertRegisterInvalid" class="alert alert-warning alert-dismissible fade show alertHidden"
         role="alert">ID de Usuario o contraseña no v&aacute;lidos ❌
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div id="alertRegisterFailed" class="alert alert-danger alert-dismissible fade show alertHidden"
         role="alert">Login erróneo, por favor inténtalo de nuevo más tarde.
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <p>¿Necesitas una cuenta? ¡<a [routerLink]="['/register']">Registrate</a> para conseguir una!</p>
  </form>

</div>

